<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù…Ø­Ø§ÙƒÙŠ Electude Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ Ù…Ø¹ Ø§Ù„ØµÙˆØª</title>
    <style>
        :root { --main-gray: #bdc3c7; --dark-gray: #2c3e50; --electude-red: #e74c3c; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { background-color: #1a1a1a; font-family: sans-serif; display: flex; height: 100vh; overflow: hidden; }

        /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© */
        .sidebar { width: 260px; background: white; border-left: 2px solid #ddd; z-index: 10; display: flex; flex-direction: column; }
        .sidebar-header { padding: 15px; background: var(--electude-red); color: white; font-weight: bold; }
        .tool-item { padding: 12px 20px; border-bottom: 1px solid #eee; cursor: pointer; color: #333; transition: 0.2s; font-size: 14px; }
        .tool-item:hover { background: #f1f1f1; color: var(--electude-red); }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø­Ø±Ùƒ ÙˆØ§Ù„Ø³ÙŠØ§Ø±Ø© */
        .engine-bay { flex-grow: 1; background: radial-gradient(circle, #444, #111); display: flex; justify-content: center; align-items: center; position: relative; }
        .engine-img { width: 80%; opacity: 0.6; filter: grayscale(50%); }

        /* Ù†Ø§ÙØ°Ø© Ù„ÙˆØ­Ø© Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© */
        .dash-window {
            position: absolute; background: linear-gradient(145deg, #95a5a6, #7f8c8d);
            width: 380px; padding: 20px; border-radius: 20px; border: 2px solid #bdc3c7;
            box-shadow: 0 20px 50px rgba(0,0,0,0.7); cursor: move;
        }

        .gauges-container { display: flex; justify-content: space-between; align-items: center; background: #000; padding: 15px; border-radius: 15px; border: 5px solid #333; }
        .gauge { position: relative; width: 120px; height: 120px; border: 4px solid #444; border-radius: 50%; display: flex; justify-content: center; align-items: center; }
        .needle { position: absolute; width: 3px; height: 50px; background: red; bottom: 50%; transform-origin: bottom center; transform: rotate(-90deg); transition: 0.1s; z-index: 5; }
        
        .warning-lights { display: flex; flex-direction: column; gap: 8px; }
        .light { font-size: 18px; opacity: 0.1; filter: grayscale(1); transition: 0.3s; }
        .light.active { opacity: 1; filter: grayscale(0); }

        .pedal-box { margin-top: 20px; text-align: center; }
        input[type=range] { width: 100%; height: 10px; cursor: pointer; }
        .start-btn { margin-top: 15px; padding: 10px; width: 100%; border-radius: 10px; border: none; background: #27ae60; color: white; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>

    <aside class="sidebar">
        <div class="sidebar-header">Ù†Ø¸Ø§Ù… ØªØ´Ø®ÙŠØµ Electude</div>
        <div class="tool-item">ğŸ”‘ Ù„ÙˆØ­Ø© Ø§Ù„Ù‚ÙŠØ§Ø¯Ø©</div>
        <div class="tool-item">ğŸ“Ÿ Ù…Ù‚ÙŠØ§Ø³ Ù…ØªØ¹Ø¯Ø¯ (Multimeter)</div>
        <div class="tool-item">ğŸ’» Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´Ø®ÙŠØµ</div>
        <div class="tool-item">ğŸ”Œ Ù…Ø®Ø·Ø· Ø§Ù„Ø£Ø³Ù„Ø§Ùƒ</div>
    </aside>

    <main class="engine-bay">
        <div class="dash-window" id="dash">
            <div class="gauges-container">
                <div class="gauge">
                    <div class="needle" id="rpmNeedle"></div>
                    <span style="color:white; font-size:9px; margin-top:60px;">RPM x1000</span>
                </div>
                <div class="warning-lights">
                    <div id="bat" class="light">ğŸ”‹</div>
                    <div id="oil" class="light">ğŸ›¢ï¸</div>
                    <div id="chk" class="light">âš™ï¸</div>
                </div>
                <div class="gauge">
                    <div class="needle" id="tempNeedle" style="transform: rotate(-30deg);"></div>
                    <span style="color:white; font-size:9px; margin-top:60px;">TEMP Â°C</span>
                </div>
            </div>

            <div class="pedal-box">
                <button class="start-btn" id="startBtn">ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø­Ø±Ùƒ (START)</button>
                <input type="range" id="gasPedal" min="0" max="8000" value="0">
                <p style="color:#222; font-weight:bold; margin-top:10px;">Ø§Ù„Ø³Ø±Ø¹Ø©: <span id="rpmLabel">0</span> RPM</p>
            </div>
        </div>
    </main>

    <script>
        let audioCtx, oscillator, gainNode;
        let isStarted = false;

        const startBtn = document.getElementById('startBtn');
        const pedal = document.getElementById('gasPedal');
        const rpmNeedle = document.getElementById('rpmNeedle');
        const rpmLabel = document.getElementById('rpmLabel');

        // ÙˆØ¸ÙŠÙØ© ØªÙˆÙ„ÙŠØ¯ ØµÙˆØª Ø§Ù„Ù…Ø­Ø±Ùƒ
        function initAudio() {
            audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            oscillator = audioCtx.createOscillator();
            gainNode = audioCtx.createGain();

            oscillator.type = 'sawtooth'; // Ù…ÙˆØ¬Ø© ØµÙˆØªÙŠØ© ØªØ´Ø¨Ù‡ ØµÙˆØª Ø§Ù„Ù…Ø­Ø±Ùƒ
            oscillator.frequency.setValueAtTime(50, audioCtx.currentTime); 
            
            gainNode.gain.setValueAtTime(0, audioCtx.currentTime); // ØµØ§Ù…Øª ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
            
            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            oscillator.start();
        }

        startBtn.onclick = () => {
            if (!audioCtx) initAudio();
            if (!isStarted) {
                gainNode.gain.setTargetAtTime(0.1, audioCtx.currentTime, 0.1);
                startBtn.innerText = "Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ø­Ø±Ùƒ (STOP)";
                startBtn.style.background = "#c0392b";
                document.getElementById('bat').classList.add('active');
                isStarted = true;
            } else {
                gainNode.gain.setTargetAtTime(0, audioCtx.currentTime, 0.1);
                startBtn.innerText = "ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø­Ø±Ùƒ (START)";
                startBtn.style.background = "#27ae60";
                document.querySelectorAll('.light').forEach(l => l.classList.remove('active'));
                isStarted = false;
                pedal.value = 0;
                updateRPM(0);
            }
        };

        pedal.oninput = (e) => {
            if (!isStarted) { e.target.value = 0; return; }
            let val = e.target.value;
            updateRPM(val);
        };

        function updateRPM(val) {
            // ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ø¥Ø¨Ø±Ø©
            let deg = (val / 8000) * 180 - 90;
            rpmNeedle.style.transform = `rotate(${deg}deg)`;
            rpmLabel.innerText = val;

            // ØªØºÙŠÙŠØ± ØªØ±Ø¯Ø¯ Ø§Ù„ØµÙˆØª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù€ RPM
            if (isStarted) {
                let freq = 50 + (val / 20); // ØªØ±Ø¯Ø¯ ØµÙˆØª Ø§Ù„Ù…Ø­Ø±Ùƒ
                oscillator.frequency.setTargetAtTime(freq, audioCtx.currentTime, 0.05);
            }
        }

        // ÙƒÙˆØ¯ ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ù†Ø§ÙØ°Ø© (Drag)
        const dash = document.getElementById('dash');
        let isDragging = false;
        dash.onmousedown = (e) => { 
            if(e.target.tagName === 'INPUT' || e.target.tagName === 'BUTTON') return;
            isDragging = true; 
        };
        document.onmousemove = (e) => {
            if (isDragging) {
                dash.style.left = e.clientX - 190 + 'px';
                dash.style.top = e.clientY - 100 + 'px';
            }
        };
        document.onmouseup = () => isDragging = false;
    </script>
</body>
</html>
