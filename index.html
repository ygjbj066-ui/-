<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù…Ø­Ø§ÙƒÙŠ Ø³ÙˆÙ†Ø§ØªØ§ 2011 Ø§Ù„Ù…Ø·ÙˆØ±</title>
    <style>
        body { background-color: #1a1a1a; color: white; font-family: sans-serif; margin: 0; display: flex; height: 100vh; }
        
        /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© */
        .sidebar { width: 250px; background: #fff; color: #333; border-left: 2px solid #ddd; padding: 10px; z-index: 100; }
        .sidebar h3 { font-size: 16px; border-bottom: 2px solid red; padding-bottom: 5px; }
        .tool-btn { padding: 12px; border-bottom: 1px solid #eee; cursor: pointer; transition: 0.3s; }
        .tool-btn:hover { background: #f0f0f0; color: red; }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¹Ø±Ø¶ */
        .main-stage { flex-grow: 1; position: relative; background: radial-gradient(circle, #444, #111); display: flex; justify-content: center; align-items: center; }
        
        /* ØµÙˆØ±Ø© Ø§Ù„Ø³ÙˆÙ†Ø§ØªØ§ */
        .car-display { width: 80%; max-width: 700px; border-radius: 15px; box-shadow: 0 0 50px rgba(0,0,0,0.8); }

        /* Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© */
        .window { position: absolute; background: #ecf0f1; border-radius: 12px; padding: 15px; color: #333; box-shadow: 0 10px 30px rgba(0,0,0,0.5); display: none; z-index: 200; cursor: move; border: 2px solid #bdc3c7; }
        .win-header { display: flex; justify-content: space-between; font-weight: bold; border-bottom: 1px solid #ccc; margin-bottom: 10px; }

        /* Ø¬Ù‡Ø§Ø² Ø§Ù„ÙØ­Øµ Ø§Ù„Ø°ÙƒÙŠ (Ù…Ù† ØµÙˆØ±ØªÙƒ) */
        .smart-scanner { background: #222; color: #0f0; padding: 15px; border-radius: 10px; border: 3px solid #333; text-align: right; }
        .status-btn { width: 100%; padding: 10px; margin-top: 5px; border: none; border-radius: 5px; color: white; cursor: pointer; font-weight: bold; }

        /* Ø§Ù„Ø¹Ø¯Ø§Ø¯Ø§Øª */
        .gauge-box { background: #000; padding: 15px; border-radius: 15px; text-align: center; }
        .needle { width: 3px; height: 50px; background: red; position: absolute; bottom: 50%; left: 50%; transform-origin: bottom center; transform: rotate(-90deg); }
    </style>
</head>
<body>

<aside class="sidebar">
    <h3>Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØ´Ø®ÙŠØµ</h3>
    <div class="tool-btn" onclick="toggleWin('dashWin')">ğŸ”‘ Ù„ÙˆØ­Ø© Ø§Ù„Ù‚ÙŠØ§Ø¯Ø©</div>
    <div class="tool-btn" onclick="toggleWin('scanWin')">ğŸ“Ÿ Ø¬Ù‡Ø§Ø² Ø§Ù„ÙØ­Øµ Ø§Ù„Ø°ÙƒÙŠ</div>
    <div class="tool-btn" onclick="toggleWin('multiWin')">ğŸ“ Ù…Ù‚ÙŠØ§Ø³ Ù…ØªØ¹Ø¯Ø¯</div>
</aside>

<main class="main-stage">
    <img src="https://www.motortrend.com/uploads/sites/10/2015/11/2011-hyundai-sonata-gls-sedan-angular-front.png" class="car-display" alt="Sonata 2011">

    <div id="dashWin" class="window" style="top: 20px; right: 20px; width: 300px;">
        <div class="win-header"><span>Ù„ÙˆØ­Ø© Ø§Ù„Ø¹Ø¯Ø§Ø¯Ø§Øª</span><span onclick="toggleWin('dashWin')" style="cursor:pointer;color:red">âœ–</span></div>
        <div class="gauge-box">
            <div style="width:100px; height:100px; border:3px solid #444; border-radius:50%; margin:auto; position:relative;">
                <div id="needle" class="needle"></div>
            </div>
            <input type="range" id="pedal" min="0" max="8000" value="0" style="width:100%; margin-top:15px;">
            <p style="color:cyan;">RPM: <span id="rpmVal">0</span></p>
            <button id="startBtn" style="width:100%; background:green; color:white; border:none; padding:10px; border-radius:5px; cursor:pointer;">START</button>
        </div>
    </div>

    <div id="scanWin" class="window" style="bottom: 20px; left: 20px; width: 280px;">
        <div class="win-header"><span>Ø¬Ù‡Ø§Ø² Ø§Ù„ÙØ­Øµ Ø§Ù„Ø°ÙƒÙŠ</span><span onclick="toggleWin('scanWin')" style="cursor:pointer;color:red">âœ–</span></div>
        <div class="smart-scanner">
            <div>Ø³Ø±Ø¹Ø© Ø§Ù„Ù…Ø­Ø±Ùƒ: <span id="scanRpm">0</span> RPM</div>
            <div>Ø¬Ù‡Ø¯ Ø§Ù„Ø­Ø³Ø§Ø³: <span id="scanVolt">0.5</span> ÙÙˆÙ„Øª</div>
            <div style="margin-top:10px; font-size:12px; color:#fff;">Ø§Ù„Ø­Ø§Ù„Ø©: <span id="statusLabel">Ù†Ø¸Ø§Ù… Ø³Ù„ÙŠÙ… âœ…</span></div>
        </div>
        <button class="status-btn" style="background:#27ae60;" onclick="setStatus('Ø³Ù„ÙŠÙ…')">Ø­Ø§Ù„Ø© Ø³Ù„ÙŠÙ…Ø©</button>
        <button class="status-btn" style="background:#f39c12;" onclick="setStatus('Ù…ØªØ³Ø®')">Ø­Ø³Ø§Ø³ Ù…ØªØ³Ø®</button>
        <button class="status-btn" style="background:#e74c3c;" onclick="setStatus('Ù…ÙØµÙˆÙ„')">Ø­Ø³Ø§Ø³ Ù…ÙØµÙˆÙ„</button>
    </div>
</main>

<script>
    let running = false;
    function toggleWin(id) {
        const w = document.getElementById(id);
        w.style.display = (w.style.display === 'block') ? 'none' : 'block';
    }

    const pedal = document.getElementById('pedal');
    const needle = document.getElementById('needle');
    const rpmVal = document.getElementById('rpmVal');
    const scanRpm = document.getElementById('scanRpm');
    const scanVolt = document.getElementById('scanVolt');

    pedal.oninput = (e) => {
        if(!running) { e.target.value = 0; return; }
        let v = e.target.value;
        rpmVal.innerText = v;
        scanRpm.innerText = v;
        needle.style.transform = `rotate(${(v/8000)*180-90}deg)`;
        
        // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø¬Ù‡Ø¯ (Voltage)
        let voltage = (v / 8000 * 4) + 0.5;
        scanVolt.innerText = voltage.toFixed(1);
    };

    document.getElementById('startBtn').onclick = function() {
        running = !running;
        this.innerText = running ? "STOP" : "START";
        this.style.background = running ? "red" : "green";
    };

    function setStatus(state) {
        const label = document.getElementById('statusLabel');
        if(state === 'Ù…ÙØµÙˆÙ„') {
            label.innerText = "Ø¹Ø·Ù„: Ø­Ø³Ø§Ø³ Ù…ÙØµÙˆÙ„ âŒ";
            label.style.color = "red";
        } else if(state === 'Ù…ØªØ³Ø®') {
            label.innerText = "ØªÙ†Ø¨ÙŠÙ‡: Ø­Ø³Ø§Ø³ Ù…ØªØ³Ø® âš ï¸";
            label.style.color = "orange";
        } else {
            label.innerText = "Ù†Ø¸Ø§Ù… Ø³Ù„ÙŠÙ… âœ…";
            label.style.color = "#0f0";
        }
    }

    // ÙƒÙˆØ¯ ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ù†ÙˆØ§ÙØ°
    document.querySelectorAll('.window').forEach(w => {
        w.onmousedown = function(e) {
            if(e.target.tagName === 'INPUT' || e.target.tagName === 'BUTTON') return;
            let x = e.clientX - w.offsetLeft;
            let y = e.clientY - w.offsetTop;
            document.onmousemove = function(ev) {
                w.style.left = ev.clientX - x + 'px';
                w.style.top = ev.clientY - y + 'px';
            };
            document.onmouseup = function() { document.onmousemove = null; };
        };
    });
</script>

</body>
</html>
